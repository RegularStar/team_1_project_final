{% extends 'base.html' %}
{% load static %}

{% block title %}접근 권한이 필요합니다 | SkillBridge{% endblock %}

{% block content %}
<section class="access-denied">
  <div class="access-card">
    <h2>접근 권한이 필요해요</h2>
    <p>이 페이지는 관리자 전용이에요. 적절한 권한을 가진 계정으로 로그인해주세요.</p>
    <div class="access-actions">
      {% if not request.user.is_authenticated %}
        <a class="btn" href="{% url 'login' %}?next={{ request.get_full_path }}">로그인하기</a>
      {% else %}
        <form class="inline-form" method="post" action="{% url 'logout' %}">
          {% csrf_token %}
          <input type="hidden" name="next" value="{% url 'login' %}?next={{ request.get_full_path|urlencode }}" />
          <button class="btn" type="submit">다른 계정으로 로그인</button>
        </form>
        <a class="btn secondary" href="{% url 'home' %}">홈으로 돌아가기</a>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}

{% block extra_css %}
  <style>
    .access-denied {
      padding: 80px 0;
      display: flex;
      justify-content: center;
    }
    .access-card {
      width: min(480px, 90vw);
      background: rgba(18, 23, 35, .9);
      border: 1px solid rgba(255, 255, 255, .08);
      border-radius: 24px;
      padding: 40px;
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .access-card h2 {
      margin: 0;
      font-size: 26px;
      font-weight: 800;
    }
    .access-card p {
      margin: 0;
      color: rgba(231, 237, 247, .75);
      line-height: 1.6;
    }
    .access-actions {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }
    .access-actions .btn,
    .access-actions .inline-form {
      min-width: 140px;
      display: flex;
      justify-content: center;
    }
    .inline-form {
      margin: 0;
    }
  </style>
{% endblock %}
